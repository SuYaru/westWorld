(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7d7c"],{7915:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"news"},[a("Row",[a("Col",{attrs:{span:"4"}},[a("Tree",{attrs:{data:e.treeData},on:{"on-select-change":e.onTreeSelectChange}})],1),a("Col",{attrs:{span:"20"}},[a("Button",{attrs:{type:"primary"},on:{click:e.addData}},[e._v("添加数据")]),a("Button",{attrs:{type:"error"},on:{click:e.removesData}},[e._v("删除多条")]),a("Input",{attrs:{search:"",placeholder:"请输入关键字"},on:{"on-search":e.searchData},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("Table",{attrs:{columns:e.columns,data:e.listData},on:{"on-selection-change":e.onSelectionChange}}),a("Page",{attrs:{total:e.total,"show-sizer":"","page-size-opts":[5,10,20,30,40,50]},on:{"on-change":e.onChangePage,"on-page-size-change":e.onPageSizeChange}}),a("Modal",{attrs:{title:"添加订单"},on:{"on-ok":e.ok,"on-cancel":function(t){return e.cancel("formValidate")}},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"订单名称",prop:"ordername"}},[a("Input",{model:{value:e.formValidate.ordername,callback:function(t){e.$set(e.formValidate,"ordername",t)},expression:"formValidate.ordername"}})],1),a("FormItem",{attrs:{label:"订单明细",prop:"details"}},[a("Input",{attrs:{placeholder:"Enter your details"},model:{value:e.formValidate.details,callback:function(t){e.$set(e.formValidate,"details",t)},expression:"formValidate.details"}})],1),a("FormItem",{attrs:{label:"开始时间",prop:"sdate"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"Select date"},model:{value:e.formValidate.sdate,callback:function(t){e.$set(e.formValidate,"sdate",t)},expression:"formValidate.sdate"}})],1)],1)],1),a("FormItem",{attrs:{label:"预计完成时间",prop:"fdate"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"Select date"},model:{value:e.formValidate.fdate,callback:function(t){e.$set(e.formValidate,"fdate",t)},expression:"formValidate.fdate"}})],1)],1)],1),a("FormItem",{attrs:{label:"订单进度",prop:"progress"}},[+e.formValidate.progress>=100?a("div",[a("Progress",{attrs:{percent:+e.formValidate.progress,status:"success"}},[a("Icon",{attrs:{type:"checkmark-circled"}}),a("span",[e._v("订单完成")])],1)],1):e._e(),+e.formValidate.progress<30?a("div",[a("Progress",{attrs:{percent:+e.formValidate.progress,status:"wrong"}},[a("Icon",{attrs:{type:"checkmark-circled"}}),a("span",[e._v("催单中")])],1)],1):e._e(),+e.formValidate.progress>=30&&+e.formValidate.progress<=90?a("div",[a("Progress",{attrs:{percent:+e.formValidate.progress}})],1):e._e(),a("ButtonGroup",{attrs:{size:"large"}},[a("Button",{attrs:{icon:"ios-add"},on:{click:e.add}}),a("Button",{attrs:{icon:"ios-remove"},on:{click:e.minus}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("formValidate")}}},[e._v("重置")])],1)],1)],1)],1)],1)},o=[],n=(a("a753"),a("8096"),a("14e1"),a("96a8")),s=a("29eb"),l={mixins:[n["a"]],data:function(){var e=this;return{treeData:[],module:"order",formValidate:{_id:null,ordername:null,details:"",sdate:"",fdate:"",progress:0,orderId:null},ruleValidate:{ordername:[{required:!0,message:"The ordername cannot be empty",trigger:"blur"}],details:[{required:!0,message:"The details cannot be empty",trigger:"blur"}],sdate:[{required:!0,message:"The sdate cannot be empty",trigger:"blur",pattern:/.+/}],fdate:[{required:!0,message:"The fdate cannot be empty",trigger:"blur",pattern:/.+/}],progress:[{required:!0,message:"The progress cannot be empty",trigger:"blur",pattern:/.+/}]},columns:[{type:"selection",width:60,align:"center"},{title:"订单名称",key:"ordername"},{title:"订单明细",key:"details"},{title:"开始时间",key:"sdate",render:function(t,a){return console.log(a.row),t("strong",e.$moment(a.row.sdate).utc().zone(6).format("YYYY-MM-DD"))}},{title:"预计完成时间",key:"fdate",render:function(t,a){return t("strong",e.$moment(a.row.fdate).utc().zone(6).format("YYYY-MM-DD HH:mm:ss"))}},{title:"订单进度",key:"progress",render:function(e,t){return e("Progress",{props:{percent:+t.row.progress}})}},{title:"操作",key:"action",width:250,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.editData(a.row._id)}}},"修改"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.removeData(a.row._id)}}},"删除")])}}]}},methods:{onTreeSelectChange:function(e){this.formValidate.orderId=e[0]._id,console.log(this.formValidate.orderId),this.getData()},addData:function(){console.log(this.formValidate.orderId),null==this.formValidate.orderId?alert("请选择一个分类"):this.modal1=!0},getTreeData:function(){var e=this;this.axios({url:"".concat(s["a"].url,"/cate/list/2"),method:"post"}).then(function(t){console.log(t.data),e.treeData=t.data})},add:function(){if(this.formValidate.progress>=100)return!1;this.formValidate.progress+=10},minus:function(){if(this.formValidate.progress<=0)return!1;this.formValidate.progress-=10}},mounted:function(){this.getTreeData()}},i=l,d=a("2877"),c=Object(d["a"])(i,r,o,!1,null,null,null);t["default"]=c.exports}}]);